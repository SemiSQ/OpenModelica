CC = gcc
CXX = g++
CFLAGS = -O3 -march=native -fPIC -I.. -I../util 
CXXFLAGS = -O3 -I.. -D_POSIX_ -Dstatic
OBJS = ModelicaInternal.o ModelicaStrings.o ModelicaTablesImpl.o tables.o
AR = ar -ru

all: libModelicaExternalC.a

tables.o: tables.cpp tables.h
	$(CXX) $(CFLAGS)  -o $@ -c $<


libModelicaExternalC.a : $(OBJS)
	$(AR) $@ $(OBJS)
	ranlib $@

%.o: %.c
	$(CC) $(CFLAGS) -c $^

clean:
	rm -f libModelicaExternalC.a $(OBJS) 
