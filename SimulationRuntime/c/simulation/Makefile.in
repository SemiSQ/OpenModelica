# Adrian Pop, adrpo@ida.liu.se, Martin Sj√∂lund, marsj@ida.liu.se
# - Use make -f Makefile.omdev.mingw if you want to compile on Windows/MinGW
# - Please leave the UNIX Makefile as it is if you are not using UNIX/Linux
# If you need to add files, etc, you modify Makefile.common - a common file
# for both UNIX/Linux and Windows platforms.

CC = @CC@
ANSI= #-ansi
CFLAGS   := @CFLAGS@ -Wall $(ANSI) -pedantic $(EXTRA_CFLAGS) -mfpmath=sse -c
CPPFLAGS := @CPPFLAGS@ -Wall $(ANSI) $(EXTRA_CFLAGS) -I. -I.. -I../util -I../linearization -I./results -I./math-support/ -I./solver
AR = ar -ru
FFLAGS  = -O -fexceptions

OBJS = options.o simulation_input_xml.o simulation_modelinfo.o simulation_runtime.o simulation_varinfo.o ../linearization/linearize.o


HFILES = \
simulation_input_xml.h \
simulation_runtime.h \
simulation_modelinfo.h \
simulation_varinfo.h \
options.h \
../linearization/linearize.h \

LIBS = libsim.a

.PHONY : libsim.a clear

all : libsim.a

libsim.a : $(OBJS) $(HFILES)
	$(AR) $@ $(OBJS)
	ranlib $@

clean :
	rm -f libsim.a
	rm -f $(OBJS)

Makefile: Makefile.in
	cd ../../..; ./config.status

