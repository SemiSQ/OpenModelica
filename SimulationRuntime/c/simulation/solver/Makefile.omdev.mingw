# Adrian Pop, adrpo@ida.liu.se, Martin Sj√∂lund, marsj@ida.liu.se
# - Use make -f Makefile.omdev.mingw if you want to compile on Windows/MinGW
# - Please leave the UNIX Makefile as it is if you are not using UNIX/Linux
# If you need to add files, etc, you modify Makefile.common - a common file
# for both UNIX/Linux and Windows platforms.

CC = gcc
ANSI= #-ansi
CFLAGS   := -O3 -march=native -fPIC -Wall $(ANSI) -pedantic $(EXTRA_CFLAGS) -mfpmath=sse -c -I..
CPPFLAGS :=  -Wall $(ANSI) $(EXTRA_CFLAGS) -I. -I.. -I../../ -I../../util -I../../linearization -I../results -I../math-support/
AR = ar -ru
FFLAGS  = -O -fexceptions

OBJS = daux.o ddasrt.o ddassl.o dlamch.o dlinpk.o solver_main.o  

HFILES = \
simulation_inline_solver.h \
solver_main.h \

LIBS = libsolver.a

.PHONY : libsolver.a clean

all : libsolver.a

libsolver.a : $(OBJS) $(HFILES)
	$(AR) $@ $(OBJS)
	ranlib $@

clean :
	rm -f libsolver.a
	rm -f $(OBJS)

Makefile: Makefile.in
	cd ../../../../; ./config.status

