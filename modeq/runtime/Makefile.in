#
# Makefile for modeq/runtime
#
# David Kågedal <x97davka@ida.liu.se>
#
# $Id$
#

RMLINCLUDE = @rmlinc@
CFLAGS = @DEFS@

SHELL	= /bin/sh
CC	= gcc
IDL	= idl 
CFLAGS	+= -I$(RMLINCLUDE) -I../../c_runtime
CXXFLAGS = $(CFLAGS)
SRC	= rtopts.c socketimpl.c printimpl.c systemimpl.c 
CPPSRC  = cacheimpl.cpp ptolemyio.cpp modeq_communication.cc \
          modeq_communication_impl.cpp corbaimpl.cpp
OBJ     = $(SRC:.c=.o) $(CPPSRC:.cpp=.o) $(CPPSRC:.cc=.o)

all: $(OBJ)

modeq_communication.cc modeq_communication.h : modeq_communication.idl
	$(IDL) modeq_communication.idl

modeq_communication.h: modeq_communication_impl.cpp corbaimpl.cpp

clean:
	$(RM) -rf *.o 


