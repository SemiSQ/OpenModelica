//name:         Accelerate2
//keyword:      simulating msl221
//status:       correct
//env: OPENMODELICALIBRARY=../../../../libraries/msl221
//
// simulation example
//

loadModel(Modelica);
simulate(Modelica.Mechanics.Translational.Examples.Accelerate,numberOfIntervals=500,tolerance=0.0001,startTime=0,stopTime=1);
"Accelerate1.v:";
val(Accelerate1.v,0.0);
val(Accelerate1.v,0.25);
val(Accelerate1.v,0.5);
val(Accelerate1.v,0.75);
val(Accelerate1.v,1.0);

"Accelerate1.s:";
val(Accelerate1.s,0.0);
val(Accelerate1.s,0.25);
val(Accelerate1.s,0.5);
val(Accelerate1.s,0.75);
val(Accelerate1.s,1.0);

"Accelerate1.flange_b.s:";
val(Accelerate1.flange_b.s,0.0);
val(Accelerate1.flange_b.s,0.25);
val(Accelerate1.flange_b.s,0.5);
val(Accelerate1.flange_b.s,0.75);
val(Accelerate1.flange_b.s,1.0);

"SlidingMass1.s:";
val(SlidingMass1.s,0.0);
val(SlidingMass1.s,0.25);
val(SlidingMass1.s,0.5);
val(SlidingMass1.s,0.75);
val(SlidingMass1.s,1.0);

"SlidingMass1.flange_a.s:";
val(SlidingMass1.flange_a.s,0.0);
val(SlidingMass1.flange_a.s,0.25);
val(SlidingMass1.flange_a.s,0.5);
val(SlidingMass1.flange_a.s,0.75);
val(SlidingMass1.flange_a.s,1.0);

"SlidingMass1.flange_b.s:";
val(SlidingMass1.flange_b.s,0.0);
val(SlidingMass1.flange_b.s,0.25);
val(SlidingMass1.flange_b.s,0.5);
val(SlidingMass1.flange_b.s,0.75);
val(SlidingMass1.flange_b.s,1.0);

"SlidingMass1.v:";
val(SlidingMass1.v,0.0);
val(SlidingMass1.v,0.25);
val(SlidingMass1.v,0.5);
val(SlidingMass1.v,0.75);
val(SlidingMass1.v,1.0);

"SlidingMass1.a:";
val(SlidingMass1.a,0.0);
val(SlidingMass1.a,0.25);
val(SlidingMass1.a,0.5);
val(SlidingMass1.a,0.75);
val(SlidingMass1.a,1.0);

system("rm Modelica.Mechanics.Translational.Examples.Accelerate*");

// Result:
// true
// record SimulationResult
//     resultFile = "Modelica.Mechanics.Translational.Examples.Accelerate_res.plt",
//     simulationOptions = "startTime = 0.0, stopTime = 1.0, numberOfIntervals = 500, tolerance = 0.0001, method = 'dassl', fileNamePrefix = 'Modelica.Mechanics.Translational.Examples.Accelerate', storeInTemp = false, noClean = false, options = '', outputFormat = 'plt'",
//     messages = ""
// end SimulationResult;
// "Accelerate1.v:"
// 0.0
// 0.25
// 0.5
// 0.75
// 1.0
// "Accelerate1.s:"
// -0.5
// -0.46875
// -0.375
// -0.21875
// -1.11022302462516e-16
// "Accelerate1.flange_b.s:"
// -0.5
// -0.46875
// -0.375
// -0.21875
// -1.11022302462516e-16
// "SlidingMass1.s:"
// 0.0
// 0.03125
// 0.125
// 0.28125
// 0.5
// "SlidingMass1.flange_a.s:"
// -0.5
// -0.46875
// -0.375
// -0.21875
// -1.11022302462516e-16
// "SlidingMass1.flange_b.s:"
// 0.5
// 0.53125
// 0.625
// 0.78125
// 1.0
// "SlidingMass1.v:"
// 0.0
// 0.25
// 0.5
// 0.75
// 1.0
// "SlidingMass1.a:"
// 1.0
// 1.0
// 1.0
// 1.0
// 1.0
// 0
// endResult
