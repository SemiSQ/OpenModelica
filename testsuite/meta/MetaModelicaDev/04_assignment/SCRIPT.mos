// name:     04 Assignment
// keywords: MetaModelica
// status:   correct
//
// OpenModelica Development Course at PELAB
// Note that the testcase needs to be run with the input:
// a:=1+2
// c:=1
// b:=1+c
// d:=a+b+c
// ;
// d+1
// or something that generates the same output.
//
echo(false);
setLinker("g++ -shared -export-dynamic -g -fPIC lexer.o parser.o");
loadFile("Assignment.mo");
loadFile("Parse.mo");
print("[Parse. Enter an expression, then press CTRL+z (Windows) or CTRL+d (Linux).]
");
syntree := Parse.parse();
i:=Assignment.evalprogram(syntree);
print(intString(i) + "
");

// Result:
// [Parse. Enter an expression, then press CTRL+z (Windows) or CTRL+d (Linux).]
// 
// The assignments: a = 1+2, c = 1, b = 1+c, d = a+b+c
// The expression: d+1
// The environment: d = 6, b = 2, c = 1, a = 3
// 7
// endResult
