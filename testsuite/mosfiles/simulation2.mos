// name:     Simulation
// keywords: Simulation, Euler, Linear, Non-linear eqn systems.
// status:   correct
// 
//  Simulate models and read in data.
//
loadFile("TimeVaryingLinsys.mo");
simulate(TimeVaryingLinSys,numberOfIntervals=5,method="euler");
readSimulationResult("TimeVaryingLinSys_res.plt",{x,y,z},5);
clear();
deleteFile("TimeVaryingLinSys_*");
deleteFile("TimeVaryingLinSys.cpp TimeVaryingLinSys.exe TimeVaryingLinSys.makefile");
loadFile("NonLinSys.mo");
simulate(NonLinSys,numberOfIntervals=100,method="euler");
readSimulationResult("NonLinSys_res.plt",{x},100);
deleteFile("NonLinSys_*");
deleteFile("NonLinSys.cpp NonLinSys.exe NonLinSys.makefile");
clear();
loadFile("NonLinSys2.mo");
simulate(NonLinSys2,numberOfIntervals=100,method="euler");
readSimulationResult("NonLinSys2_res.plt",{x,y},100);
deleteFile("NonLinSys2_*");
deleteFile("NonLinSys2.cpp NonLinSys2.exe NonLinSys2.makefile");
clear();
loadFile("NonLinSys3.mo");
simulate(NonLinSys3,numberOfIntervals=5,method="euler");
readSimulationResult("NonLinSys3_res.plt",{x,y},5);
deleteFile("NonLinSys3_*");
deleteFile("NonLinSys3.cpp NonLinSys3.exe NonLinSys3.makefile");

// Result:
// true
// record
//     resultFile = "TimeVaryingLinSys_res.plt"
// end record
// {{0.257142857142857,0.540288924558587,0.85891372921834,1.22984005580045,1.68839206679767},{0.314285714285714,0.60776886035313,0.872869016625328,1.09612795535964,1.24928634656186},{0.0571428571428571,0.103884430176565,0.136434508312664,0.148063977679821,0.12464317328093}}
// true
// true
// true
// true
// record
//     resultFile = "NonLinSys_res.plt"
// end record
// {{0.990000003828676,0.983924937214722,0.978527165140216,0.973599521505329,0.969036969859978,0.964774370303787,0.960766809619099,0.956981195341819,0.953392003449927,0.949978876343018,0.946725155163786,0.943616928497563,0.940642386677441,0.937791366967374,0.935055023278797,0.932425580118802,0.929896145265495,0.927460564462873,0.925113306861214,0.922849373397648,0.920664222590227,0.91855370975376,0.916514036702965,0.914541709751315,0.912633504345249,0.910786435059542,0.908997729964445,0.907264808587967,0.905585262857756,0.903956840530132,0.902377430709089,0.900845051132351,0.899357836960055,0.897914030848087,0.896511974125221,0.895150098923149,0.893826921132743,0.892541034079796,0.891291102829551,0.890075859043048,0.888894096319241,0.887744665966281,0.886626473153078,0.885538473398896,0.88447966936425,0.883449107911095,0.882445877404353,0.881469105230213,0.880517955509647,0.879591626988096,0.878689351084492,0.877810390084699,0.876954035466096,0.876119606341489,0.875306448011792,0.874513930618044,0.873741447884266,0.872988415943579,0.872254272240703,0.871538474504664,0.870840499786125,0.870159843554281,0.86949601884873,0.868848555482155,0.86821699929003,0.867600911423894,0.866999867685046,0.866413457895779,0.865841285305515,0.865282966029444,0.86473812851743,0.864206413051166,0.8636874712677,0.863180965707611,0.862686569386249,0.862203965386563,0.861732846472178,0.861272914719456,0.860823881167379,0.860385465484194,0.859957395649805,0.859539407652993,0.859131245202602,0.858732659451894,0.858343408735318,0.857963258316997,0.857591980150304,0.857229352647886,0.856875160461607,0.856529194271852,0.856191250585714,0.855861131543591,0.855538644733762,0.855223603014532,0.854915824343568,0.854615131614058,0.854321352497361,0.854034319291832,0.853753868777515,0.853479842076431}}
// true
// true
// true 
// true
// record
//     resultFile = "NonLinSys2_res.plt"
// end record
// {{0.990000003828676,0.983924937214722,0.978527165140216,0.973599521505329,0.969036969859978,0.964774370303787,0.960766809619099,0.956981195341819,0.953392003449927,0.949978876343018,0.946725155163786,0.943616928497563,0.940642386677441,0.937791366967374,0.935055023278797,0.932425580118802,0.929896145265495,0.927460564462873,0.925113306861214,0.922849373397648,0.920664222590227,0.91855370975376,0.916514036702965,0.914541709751315,0.912633504345249,0.910786435059542,0.908997729964445,0.907264808587967,0.905585262857756,0.903956840530132,0.902377430709089,0.900845051132351,0.899357836960055,0.897914030848087,0.896511974125221,0.895150098923149,0.893826921132743,0.892541034079796,0.891291102829551,0.890075859043048,0.888894096319241,0.887744665966281,0.886626473153078,0.885538473398896,0.88447966936425,0.883449107911095,0.882445877404353,0.881469105230213,0.880517955509647,0.879591626988096,0.878689351084492,0.877810390084699,0.876954035466096,0.876119606341489,0.875306448011792,0.874513930618044,0.873741447884266,0.872988415943579,0.872254272240703,0.871538474504664,0.870840499786125,0.870159843554281,0.86949601884873,0.868848555482155,0.86821699929003,0.867600911423894,0.866999867685046,0.866413457895779,0.865841285305515,0.865282966029444,0.86473812851743,0.864206413051166,0.8636874712677,0.863180965707611,0.862686569386249,0.862203965386563,0.861732846472178,0.861272914719456,0.860823881167379,0.860385465484194,0.859957395649805,0.859539407652993,0.859131245202602,0.858732659451894,0.858343408735318,0.857963258316997,0.857591980150304,0.857229352647886,0.856875160461607,0.856529194271852,0.856191250585714,0.855861131543591,0.855538644733762,0.855223603014532,0.854915824343568,0.854615131614058,0.854321352497361,0.854034319291832,0.853753868777515,0.853479842076431},{1.99381966142057,1.9893158377941,1.98518173151511,1.98132081059685,1.9776818859431,1.97423203628343,1.97094784000391,1.96781155229395,1.96480913701992,1.96192913717973,1.95916197454801,1.95649948947863,1.95393462449287,1.95146119865904,1.94907374182287,1.94676736972098,1.94453768786949,1.94238071622969,1.94029282921019,1.93827070721,1.93631129699455,1.93441177893473,1.93256953965061,1.93078214896284,1.92904734031567,1.92736299402511,1.92572712284758,1.9241378594701,1.92259344560409,1.9210922224267,1.91963262216213,1.91821316063306,1.91683243064233,1.91548909606902,1.91418188658207,1.91290959289045,1.91167106246137,1.9104651956484,1.90929094218012,1.90814729796693,1.90703330218964,1.90594803463834,1.90489061327444,1.90386019199206,1.90285595855827,1.90187713271387,1.90092296441898,1.89999273222943,1.89908574179136,1.89820132444337,1.89733883591623,1.89649765512156,1.89567718302173,1.89487684157408,1.89409607274311,1.89333433757519,1.89259111533073,1.89186590266912,1.89115821288254,1.89046757517477,1.88979353398165,1.88913564833017,1.88849349123332,1.8878666491182,1.88725472128505,1.88665731939499,1.8860740669847,1.88550459900599,1.88494856138888,1.88440561062649,1.88387541338034,1.88335764610499,1.88285199469049,1.8823581541219,1.88187582815453,1.88140472900423,1.88094457705171,1.88049510056006,1.88005603540486,1.87962712481597,1.87920811913054,1.87879877555654,1.8783988579462,1.87800813657894,1.87762638795316,1.87725339458659,1.87688894482456,1.87653283265601,1.87618485753663,1.87584482421898,1.87551254258906,1.87518782750922,1.87487049866686,1.87456038042893,1.87425730170168,1.87396109579563,1.87367160029543,1.87338865693434,1.87311211147326,1.87284181358398}}
// true
// true
// true
// true
// record
//     resultFile = "NonLinSys3_res.plt"
// end record
// {{1.05601794128031,1.13046330954513,1.22821534131031,1.35449553464098,1.51425031919752},{2.06440962593903,2.15398862766672,2.27850593727784,2.45079637910341,2.68662517735916}}
// true
// true
// endResult
